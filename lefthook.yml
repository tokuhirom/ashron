# lefthook.yml
# Git hooks manager configuration

pre-commit:
  parallel: false
  commands:
    make-fmt:
      glob: "*.go"
      run: make fmt
      stage_fixed: true
    golangci-lint:
      glob: "*.go"
      run: golangci-lint run --fix {staged_files}
      skip: true  # Skip by default, enable if golangci-lint is installed

pre-push:
  parallel: true
  commands:
    tests:
      run: go test -race -timeout 30s ./...
    build:
      run: go build -v ./...
    golangci-lint:
      run: golangci-lint run

